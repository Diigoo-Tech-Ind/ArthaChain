{
  "$schema": "https://json-schema.org/draft/2020-12/schema",
  "$id": "artha://schema/DIDDoc@v1",
  "title": "Artha DID Document v1",
  "description": "Decentralized Identifier document for people, organizations, and nodes on ArthaChain",
  "type": "object",
  "required": ["@context", "@schema", "id", "publicKey", "proof"],
  "properties": {
    "@context": {
      "type": "string",
      "const": "https://www.w3.org/ns/did/v1",
      "description": "W3C DID context"
    },
    "@schema": {
      "type": "string",
      "const": "artha://schema/DIDDoc@v1",
      "description": "Schema version identifier"
    },
    "id": {
      "type": "string",
      "pattern": "^did:artha:[a-f0-9]{64}$",
      "description": "DID identifier in format did:artha:<hash>",
      "examples": ["did:artha:1234567890abcdef1234567890abcdef1234567890abcdef1234567890abcdef"]
    },
    "publicKey": {
      "type": "array",
      "minItems": 1,
      "items": {
        "type": "object",
        "required": ["id", "type", "key"],
        "properties": {
          "id": {
            "type": "string",
            "description": "Key identifier",
            "examples": ["#auth-key-1", "#enc-key-1"]
          },
          "type": {
            "type": "string",
            "enum": ["Ed25519", "X25519", "Dilithium2", "Dilithium3", "Dilithium5", "Falcon512", "Falcon1024", "HybridEd25519Dilithium3"],
            "description": "Cryptographic algorithm"
          },
          "key": {
            "type": "string",
            "pattern": "^0x[a-f0-9]+$",
            "description": "Public key in hex format",
            "examples": ["0x1234567890abcdef..."]
          },
          "purpose": {
            "type": "string",
            "enum": ["authentication", "encryption", "recovery"],
            "description": "Key usage purpose"
          }
        }
      },
      "description": "Array of public keys for authentication and encryption"
    },
    "service": {
      "type": "array",
      "items": {
        "type": "object",
        "required": ["id", "type", "endpoint"],
        "properties": {
          "id": {
            "type": "string",
            "description": "Service identifier",
            "examples": ["#svdb-endpoint", "#recovery-service"]
          },
          "type": {
            "type": "string",
            "description": "Service type",
            "examples": ["SVDBEndpoint", "RecoveryService", "DIDCommMessaging"]
          },
          "endpoint": {
            "type": "string",
            "format": "uri",
            "description": "Service endpoint URL or SVDB CID",
            "examples": ["https://node.arthachain.online", "artha://QmXyz..."]
          }
        }
      },
      "description": "Optional array of service endpoints"
    },
    "metadata": {
      "type": "object",
      "properties": {
        "name": {
          "type": "string",
          "description": "Human-readable name (optional)"
        },
        "description": {
          "type": "string",
          "description": "DID description"
        },
        "avatar": {
          "type": "string",
          "pattern": "^artha://[a-zA-Z0-9]+$",
          "description": "SVDB CID of avatar image"
        },
        "metaCid": {
          "type": "string",
          "pattern": "^artha://[a-zA-Z0-9]+$",
          "description": "SVDB CID for additional metadata"
        }
      },
      "description": "Optional metadata fields"
    },
    "proof": {
      "type": "object",
      "required": ["type", "created", "value"],
      "properties": {
        "type": {
          "type": "string",
          "enum": ["Ed25519Signature2020", "Dilithium3Signature2023"],
          "description": "Proof type"
        },
        "created": {
          "type": "integer",
          "description": "Unix timestamp of proof creation",
          "minimum": 1609459200
        },
        "value": {
          "type": "string",
          "pattern": "^0x[a-f0-9]+$",
          "description": "Signature value in hex format"
        }
      },
      "description": "Cryptographic proof of DID ownership"
    },
    "createdAt": {
      "type": "integer",
      "description": "Unix timestamp of DID creation",
      "minimum": 1609459200
    },
    "updatedAt": {
      "type": "integer",
      "description": "Unix timestamp of last update",
      "minimum": 1609459200
    },
    "revoked": {
      "type": "boolean",
      "description": "Revocation status",
      "default": false
    }
  },
  "additionalProperties": false,
  "examples": [
    {
      "@context": "https://www.w3.org/ns/did/v1",
      "@schema": "artha://schema/DIDDoc@v1",
      "id": "did:artha:1234567890abcdef1234567890abcdef1234567890abcdef1234567890abcdef",
      "publicKey": [
        {
          "id": "#auth-key-1",
          "type": "Ed25519",
          "key": "0xabc123...",
          "purpose": "authentication"
        },
        {
          "id": "#enc-key-1",
          "type": "X25519",
          "key": "0xdef456...",
          "purpose": "encryption"
        }
      ],
      "service": [
        {
          "id": "#svdb-endpoint",
          "type": "SVDBEndpoint",
          "endpoint": "https://node.arthachain.online"
        }
      ],
      "metadata": {
        "name": "Alice Anderson",
        "metaCid": "artha://QmXyz..."
      },
      "proof": {
        "type": "Ed25519Signature2020",
        "created": 1730592000,
        "value": "0x9876543210..."
      },
      "createdAt": 1730592000,
      "updatedAt": 1730592000,
      "revoked": false
    }
  ]
}

